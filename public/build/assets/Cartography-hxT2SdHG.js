import{r as u,j as a,a as h}from"./app-kfGohcHl.js";import{A as y}from"./AuthenticatedLayout-6ls0eNTF.js";import{u as j,c as v,l as m,a as g,e as C,b as L,M,L as c,T as x}from"./TileLayer-c79XvrOY.js";import"./ApplicationLogo-KVu6VrTt.js";import"./transition-UK6zdfxb.js";function b(){return j().map}function w(o){const n=b();return u.useEffect(function(){return n.on(o),function(){n.off(o)}},[n,o]),n}const E=v(function({position:n,...e},t){const i=new m.Marker(n,e);return g(i,C(t,{overlayContainer:i}))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==t.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==t.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),O=L(function(n,e){const t=new m.Popup(n,e.overlayContainer);return g(t,e)},function(n,e,{position:t},i){u.useEffect(function(){const{instance:s}=n;function p(l){l.popup===s&&(s.update(),i(!0))}function d(l){l.popup===s&&i(!1)}return e.map.on({popupopen:p,popupclose:d}),e.overlayContainer==null?(t!=null&&s.setLatLng(t),s.openOn(e.map)):e.overlayContainer.bindPopup(s),function(){var f;e.map.off({popupopen:p,popupclose:d}),(f=e.overlayContainer)==null||f.unbindPopup(),e.map.removeLayer(s)}},[n,e,i,t])});function B({auth:o}){const[n,e]=u.useState([50.439,30.43]),t=r=>{e([r.latlng.lat,r.latlng.lng])},i=()=>(w({click:t}),null);return a.jsxs(y,{user:o.user,header:a.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Cartography"}),children:[a.jsx(h,{title:"Cartography"}),a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:a.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[a.jsx("div",{className:"p-6 text-xl",children:"JavaScript для картографії"}),a.jsxs("div",{className:"px-6 text-xl",children:["Вибрана позиція: ",n[0],", ",n[1]]}),a.jsx("div",{className:"p-6 max-md:aspect-square md:h-[40rem] w-full overflow-hidden",children:a.jsxs(M,{center:n,zoom:17,style:{height:"100%",width:"100%"},children:[a.jsxs(c,{position:"topright",children:[a.jsx(c.BaseLayer,{name:"Base layer",children:a.jsx(x,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),a.jsx(c.BaseLayer,{name:"Topo layer",checked:!0,children:a.jsx(x,{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png"})})]}),a.jsx(i,{}),a.jsx(E,{position:n,children:a.jsx(O,{children:"Позиція вибрана користувачем"})})]})})]})})})]})}export{B as default};
